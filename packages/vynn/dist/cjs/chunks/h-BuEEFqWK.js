"use strict";const A=new Map,se=e=>{let n;return e!==void 0?(A.has(e)||A.set(e,{states:[]}),n=A.get(e)):n={states:[]},{...n,index:0}};let q=null;function I(e){q=e}function w(){return q}let a=null;function U(e){a=e}let E=null;const b=new Set;let H=!1;function ce(e){b.add(e),H||(H=!0,queueMicrotask(()=>{for(const n of b)n();b.clear(),H=!1}))}function M(e){const n=w(),t=async()=>{k(t),t.cleanup&&(t.cleanup(),t.cleanup=void 0);const r=a;a=t,n&&n.effect.push(t);try{const s=e();if(typeof s=="function")t.cleanup=s;else if(s instanceof Promise){const u=await s;typeof u=="function"&&(t.cleanup=u)}}finally{a=r}},o=()=>k(t);return E=o,t.deps=[],t(),o}function ue(){E&&(E(),E=null)}function k(e){if(e.deps){for(const n of e.deps)n.delete(e);e.deps.length=0}e.cleanup&&(e.cleanup(),e.cleanup=void 0)}const D=new WeakMap;function W(e,n){if(!a)return;let t=D.get(e);t||(t=new Map,D.set(e,t));let o=t.get(n);o||(o=new Set,t.set(n,o)),o.has(a)||(o.add(a),a.deps?a.deps.push(o):a.deps=[o])}function z(e,n){const t=D.get(e);if(!t)return;const o=t.get(n);if(o)for(const r of o)ce(r)}function S(e){const n=w();if(n&&n.state){const{states:t,index:o}=n.state;if(t.length<=o){const r=B(e);t.push(r)}return t[n.state.index++]}return B(e)}function B(e){const n={value:e};return new Proxy(n,{get(t,o,r){return W(t,o),Reflect.get(t,o,r)},set(t,o,r,s){const u=t[o],f=Reflect.set(t,o,r,s);return u!==r&&z(t,o),f}})}function Z(e){const n=a;U(null);try{return e()}finally{U(n)}}const C=new WeakMap;function ie(e,n,t){let o=C.get(e);o||(o=new Map,C.set(e,o)),o.has(n)&&e.removeEventListener(n,o.get(n)),e.addEventListener(n,t),o.set(n,t)}function fe(e,n){const t=C.get(e);if(!t)return;const o=t.get(n);o&&(e.removeEventListener(n,o),t.delete(n)),t.size===0&&C.delete(e)}function le(e,n){for(const t in n)M(()=>{const o=n[t],r=typeof o=="function"&&t!=="ref"?o():o;if(t.startsWith("on")&&e instanceof HTMLElement){const u=t.slice(2).toLowerCase();return ie(e,u,r),()=>fe(e,u)}const s=e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement;if(t==="value"&&s&&typeof n.onInput!="function"&&typeof n.onChange!="function"){e.value=r;const u=()=>{e.value!==r&&(e.value=r)};return e.setAttribute(t,r),e.addEventListener("input",u),()=>e.removeEventListener("input",u)}if(t==="ref"&&typeof r=="function"){r(e);return}if(t==="style"&&typeof r=="object"&&e instanceof HTMLElement){pe(e,r);return}if(typeof r=="boolean"){e.toggleAttribute(t,r);return}if(t==="html"&&typeof r=="string"){e.innerHTML=r;return}e.setAttribute(t,r)})}function ae(e){return CSS.supports(e,"0")&&!CSS.supports(e,"0px")}function pe(e,n){if(e instanceof HTMLElement)for(const t in n){if(!Object.hasOwn(n,t))continue;const o=n[t];if(o==null||t==="length"||t==="parentRule")continue;const r=typeof o=="number",s=r&&!ae(t);e.style[t]=r?s?`${o}px`:`${o}`:String(o)}}function de(e){let n;return process.env.NODE_ENV==="development"?n=document.createComment(he(e)):n=document.createTextNode(""),ee.add(n),n}function he(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z][a-z])/g,"$1-$2").toLowerCase()}const j=e=>e==null||e===!1;function me(e){if(p)return e;const n=document.createDocumentFragment();N(n,e);const t=[...Array.from(n.childNodes).filter(o=>!ee.has(o))];return t.length===1?t[0]:t}function P(e){let n,t=!0;return(...o)=>(t&&(n=e(...o),t=!1),n)}const T=e=>(Array.isArray(e)?e:[e]).flat(1/0),p=typeof window>"u",O=new Map;function ge(e,n){O.set(e,n)}function R(e){const n=O.get(e);if(n){for(const t of n)t();O.delete(e)}for(const t of e.childNodes)R(t)}function ye(e){return{id:crypto.randomUUID(),mount:[],state:se(e),effect:[],destroy:[]}}function J(e){if(p)return;const n=w();if(!n)throw new Error("onDestroy called outside of component");n.destroy.push(e)}function V(e){if(p)return;const n=w();if(!n)throw new Error("onMount called outside of component");n.mount.push(e)}function ve(e,n){if(!n)return;const t=[];ge(e,t);const o=async()=>{for(const r of n.mount){const s=await r();s&&t.push(s)}for(const r of n.destroy)t.push(r);for(const r of n.effect)t.push(()=>Promise.resolve(k(r)))};queueMicrotask(()=>Promise.resolve().then(o))}const L=[],x=[];function _(){return L[L.length-1]}function we(){return x[x.length-1]}function G(e){const{fallback:n,children:t}=e,o=P(()=>t()),r=n?P(()=>n()):void 0;if(p)return r?.();const s=S(()=>r?.()),u=()=>(x.pop(),r?.()),f=c=>{L.pop(),queueMicrotask(()=>{r&&(s.value=r)}),c.then(()=>{d(o)})},d=c=>{p?x.push(u):L.push(f);try{s.value=c}catch(i){if(i instanceof Promise)p?s.value=()=>{throw i}:f(i);else throw i}};function h(c){if(!ne().isHydrating){c();return}requestAnimationFrame(()=>h(c))}try{return()=>s.value()}finally{h(()=>{d(o)})}}function Ee({children:e}){return e}const K=(e,{children:n,...t}={},o)=>oe(e,t,n,o);function Me(e){return{each(n){const t=e;return n=n,p?t().map((o,r)=>n(o,{value:r})):K(Q,{each:t,children:n})}}}function Q({each:e,children:n}){const t=_(),o=S([]),r=Se(e,n);return M(()=>{try{o.value=r()}catch(s){if(s instanceof Promise&&t)t(s);else throw s}}),()=>o.value}function Se(e,n){let t=[];return()=>{const o=e()||[],r=o.length,s=new Array(r),u=new Map;for(let c=0;c<t.length;c++){const i=t[c].value;u.has(i)||u.set(i,[]),u.get(i).push(c)}const f=new Array(r).fill(-1);for(let c=0;c<r;c++){const i=o[c],l=u.get(i);if(l&&l.length){const m=l.shift();f[c]=m,s[c]=t[m]}else{const m=S(c),g=n(i,m);s[c]={value:i,index:m,element:g}}}for(let c=0;c<t.length;c++)if(!f.includes(c)){const i=t[c].element;i.parentNode?.removeChild(i)}const d=Ce(f);let h=d.length-1;for(let c=r-1;c>=0;c--){const i=s[c];if(f[c]===-1||c!==d[h]){const l=c+1<r?s[c+1].element:null;i.element.parentNode?.insertBefore(i.element,l)}else h--;i.index.value=c}return t=s,t.map(c=>c.element)}}function Ce(e){const n=e.slice(),t=[];let o,r;for(let s=0;s<e.length;s++){const u=e[s];if(!(u<0)){if(t.length===0||e[t[t.length-1]]<u){n[s]=t.length>0?t[t.length-1]:-1,t.push(s);continue}for(o=0,r=t.length-1;o<r;){const f=(o+r)/2|0;e[t[f]]<u?o=f+1:r=f}u<e[t[o]]&&(o>0&&(n[s]=t[o-1]),t[o]=s)}}for(o=t.length,r=t[o-1];o-- >0;)t[o]=r,r=n[r];return t}function X({children:e,target:n}){let t;return V(()=>{const o=(n instanceof Function?n():n)??document.body;t=N(o,e)}),J(()=>{t()}),null}function Le(e){if(e instanceof Node)return e;if(typeof e=="string"||typeof e=="number")return document.createTextNode(String(e));throw new Error(`Unknown value: ${e}`)}function N(e,n){const t=[];function o(s,u){let f=[],d=[];const h=()=>{for(const l of f)R(l),l.parentNode===e&&e.removeChild(l);for(const l of d)l();f=[],d=[]},c=_(),i=M(()=>{try{h();const l=s instanceof Function?s():s,m=T(l);for(const g of m)if(!j(g))if(typeof g=="function"){const y=document.createTextNode("");e.insertBefore(y,u);const re=o(g,y);d.push(re),f.push(y)}else{const y=Le(g);e.insertBefore(y,u),f.push(y)}}catch(l){if(l instanceof Promise)c?.(l);else throw l}});return()=>{i(),h()}}const r=o(n,null);return t.push(r),()=>{console.log("run");for(const s of t)s()}}const xe=[G,Q,X];function Y(e,n){if(!xe.includes(e))for(const t in n)n[t]=n[t]instanceof Function?n[t]():n[t]}const ee=new WeakSet;function te(e,n={},t,o){Y(e,n);const r=o?o().toString()+e.toString():void 0,s=ye(r);I(s);const u=de(e.name),f=T([u,Z(()=>e({...n,children:t}))]).flat();return I(null),ve(u,s),f}queueMicrotask(()=>{p||new MutationObserver(e=>{for(const n of e)for(const t of n.removedNodes)R(t)}).observe(document.body,{childList:!0,subtree:!0})});let $=[],F=0;function ne(){return{renderedDOM:$,get currentDOM(){if(!p)return $[F]},get isHydrating(){return F<$.length},nextElement:()=>F++}}function Ne(e){$=e}function oe(e,n,t,o){if(typeof e=="function")return te(e,n,t,o);v.push(n.xmlns?.()??v[v.length-1]);const r=$e(e);return le(r,n),N(r,t),v.pop(),r}const v=[];function $e(e){const{currentDOM:n,isHydrating:t,nextElement:o}=ne();if(t&&n)try{if(n.tagName.toLocaleLowerCase()!==e)throw new Error("Hydration mismatch because the initial UI does not match what was rendered on the server");return n}finally{o()}const r=v[v.length-1];return r?document.createElementNS(r,e):document.createElement(e)}exports.Fragment=Ee,exports.Portal=X,exports.Suspense=G,exports.effect=M,exports.getSuspenseSSRHandler=we,exports.h=oe,exports.isNil=j,exports.isServer=p,exports.logJsx=me,exports.loop=Me,exports.memo=P,exports.mountComponent=te,exports.onDestroy=J,exports.onMount=V,exports.r=K,exports.renderChildren=N,exports.resolveComponentProps=Y,exports.setServerRenderedDOM=Ne,exports.state=S,exports.stopEffect=ue,exports.toArray=T,exports.track=W,exports.trigger=z,exports.untrack=Z;
//# sourceMappingURL=h-BuEEFqWK.js.map
