{"version":3,"file":"server.js","sources":["../../src/server/render-to-stream.ts","../../src/server/render-to-string.ts"],"sourcesContent":["import { JSX, jsx } from \"~/jsx-runtime\";\n\nexport let isStreaming = false;\n\nexport let resolveStream: () => void;\n\nexport function renderToStream(App: () => JSX.Element) {\n  isStreaming = true;\n\n  return new ReadableStream<Uint8Array<ArrayBuffer>>({\n    start(controller) {\n      const html = jsx(App, {}) as string;\n      controller.enqueue(new TextEncoder().encode(html));\n      controller.close();\n\n      isStreaming = false;\n    },\n  });\n}\n","import { JSX } from \"~/jsx-runtime\";\n\n// export const isServer = typeof window === \"undefined\";\n\nexport function renderToString(App: () => JSX.Element) {\n  return App() as string;\n}\n"],"names":["isStreaming","resolveStream","renderToStream","App","ReadableStream","start","controller","html","jsx","enqueue","TextEncoder","encode","close","renderToString"],"mappings":"yFAEWA,QAAAA,YAAc,GAAA,IAEdC,EAEJ,SAASC,EAAeC,EAAwB,CACrDH,OAAAA,QAAAA,YAAc,GAEP,IAAII,eAAwC,CACjDC,MAAMC,EAAY,CAChB,MAAMC,EAAOC,EAAAA,EAAIL,EAAK,CAAA,CAAE,EACxBG,EAAWG,QAAQ,IAAIC,cAAcC,OAAOJ,CAAI,CAAC,EACjDD,EAAWM,MAAAA,EAEXZ,QAAAA,YAAc,EAChB,CACF,CAAC,CACH,CCdO,SAASa,EAAeV,EAAwB,CACrD,OAAOA,GACT"}