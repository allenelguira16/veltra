{"version":3,"file":"client.js","sources":["../../src/client.tsx"],"sourcesContent":["/// <reference types=\"vinxi/types/client\" />\nimport \"vinxi/client\";\n\nimport { getManifest } from \"vinxi/manifest\";\nimport { JSX, NoHydration } from \"vynn\";\nimport { hydrateApp } from \"vynn\";\nimport { Router } from \"vynn-router\";\n\nimport { AppProps } from \".\";\nimport { routes } from \"./parse-route\";\n\nexport const hydrateClient = async (App: (props: AppProps) => JSX.Element) => {\n  const clientManifest = getManifest(\"client\");\n\n  const rawAssets = await clientManifest.inputs[clientManifest.handler].assets();\n\n  type Assets = ((typeof rawAssets)[number] & { children: string })[];\n  const assets = (\n    <>\n      {(rawAssets as Assets).map(({ tag: Tag, attrs, children }) => (\n        <Tag {...attrs}>{children}</Tag>\n      ))}\n    </>\n  );\n\n  // TODO: Support NoHydration\n  const scripts = <NoHydration></NoHydration>;\n\n  hydrateApp(() => (\n    <App assets={assets} scripts={scripts}>\n      <div id=\"app\">\n        <Router url={location.pathname} routes={routes} />\n      </div>\n    </App>\n  )).mount(document);\n};\n"],"names":["hydrateClient","App","clientManifest","getManifest","rawAssets","inputs","handler","assets","_jsx","_Fragment","children","map","tag","Tag","attrs","scripts","NoHydration","hydrateApp","id","Router","url","location","pathname","routes","mount","document"],"mappings":"yRAWO,MAAMA,EAAgB,MAAOC,GAA0C,CAC5E,MAAMC,EAAiBC,EAAY,QAAQ,EAErCC,EAAY,MAAMF,EAAeG,OAAOH,EAAeI,OAAO,EAAEC,OAAAA,EAGhEA,EAAMA,IACVC,EAAAC,EAAA,CAAAC,SAAAA,IACIN,EAAqBO,IAAI,CAAC,CAAEC,IAAKC,EAAKC,MAAAA,EAAOJ,SAAAA,CAAS,IACtDF,EAACK,EAAG,CAAA,GAAKC,EAAKJ,SAAAA,IAAGA,CAAQ,CAAM,CAChC,CAAC,CACF,EAIEK,EAAOA,IAAGP,EAACQ,IAAyB,EAE1CC,EAAW,IACTT,EAACP,EAAG,CAAAM,OAAAA,IAASA,EAAMQ,QAAAA,IAAWA,EAAOL,SAAAA,IACnCF,EAAA,MAAA,CAAAU,GAAAA,IAAQ,MAAKR,SAAAA,IACXF,EAACW,EAAM,CAAAC,IAAAA,IAAMC,SAASC,SAAQC,OAAAA,IAAUA,CAAM,CAAG,CAAC,CAC/C,CAAC,CACH,CACN,EAAEC,MAAMC,QAAQ,CACnB"}