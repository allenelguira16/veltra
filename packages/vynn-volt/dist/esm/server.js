import c from"pretty";import{eventHandler as h}from"vinxi/http";import{getManifest as f}from"vinxi/manifest";import{NoHydration as u}from"vynn";import{renderToString as y}from"vynn/server";import{Router as g}from"vynn-router";import{r as v}from"./parse-route-CbrixlM2.js";import{jsx as r,Fragment as w}from"vynn/server/jsx-runtime";import"vinxi/routes";const x=i=>h(async e=>{const t=f("client"),n=await t.inputs[t.handler].assets(),s=()=>r(w,{children:()=>n.map(({tag:a,attrs:d,children:l})=>r(a,{...d,children:()=>l}))}),m=await t.json(),p=()=>r(u,{children:()=>[()=>r("script",{html:()=>`window.manifest = ${JSON.stringify(m)}`}),()=>r("script",{type:()=>"module",src:()=>t.inputs[t.handler].output.path})]}),o="<!doctype html>"+y(()=>r(i,{assets:()=>s,scripts:()=>p,children:()=>r("div",{id:()=>"app",children:()=>r(g,{url:()=>e.path,routes:()=>v})})}));return e.node.res.setHeader("Content-Type","text/html"),import.meta.env.PROD?o:c(o)});export{x as renderServer};
//# sourceMappingURL=server.js.map
